!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3c0243a9-80e2-481e-8ba9-3b2fdaa29c5a",e._sentryDebugIdIdentifier="sentry-dbid-3c0243a9-80e2-481e-8ba9-3b2fdaa29c5a")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5099972cf181505749a54a9b3fbff7477cbd80fe"},(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{1025:function(e,t,i){},1026:function(e,t,i){},1033:function(e,t,i){},1034:function(e,t,i){},1035:function(e,t,i){},1455:function(e,t,i){"use strict";i(1025)},1456:function(e,t,i){"use strict";i(1026)},1462:function(e,t,i){"use strict";i(1033)},1463:function(e,t,i){"use strict";i(1034)},1464:function(e,t,i){"use strict";i(1035)},1881:function(e,t,i){"use strict";i.r(t);var o=i(0),n=i.n(o),s=i(21),a=i(53),r=i(571),c=i(1424),l=i(1423),u=i(1428),p=i(1429),d=i(91),v=i(1430);function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(Object(i),!0).forEach((function(t){n()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var h={name:"PromoVideoPopup",components:{VideoPulsePlay:i(702).a},data:function(){return{controlsTimer:null,positionInterval:null,mouseMove:!0,video:null,duration:0,position:0,isStopped:!0,isPaused:!1}},computed:b({},Object(s.e)(["userDevice"])),mounted:function(){var e=this,t=this.$refs.videoCanvas,i=t.getContext("2d");this.video=document.createElement("video"),t.height=window.innerHeight,t.width=window.innerHeight/9*16,this.video.addEventListener("play",(function(){e.isStopped=!1,e.isPaused=!1,e.positionInterval=setInterval((function(){e.position=e.video.currentTime}),100),requestAnimationFrame((function o(){e.video&&t&&(i.drawImage(e.video,0,0,t.width,t.height),requestAnimationFrame(o))}))})),this.video.addEventListener("loadedmetadata",(function(){e.duration=e.video.duration})),this.video.addEventListener("pause",(function(){e.isPaused=!0,clearInterval(e.positionInterval)})),this.video.addEventListener("ended",(function(){e.isStopped=!0})),this.$refs.videoPopup.addEventListener("mousemove",this.showControls),this.video.src="/videos/promo.mp4"},beforeDestroy:function(){clearInterval(this.positionInterval),this.$refs.videoPopup.removeEventListener("mousemove",this.showControls),this.video.pause(),this.video=null},methods:b(b({},Object(s.b)(["hideVideo"])),{},{showControls:function(){var e=this;this.mouseMove=!0,clearTimeout(this.controlsTimer),this.controlsTimer=setTimeout((function(){e.mouseMove=!1,clearTimeout(e.controlsTimer)}),1e3)},togglePlayState:function(){this.isPaused||this.isStopped?this.video.play():this.video.pause()},seek:function(e){var t=e.offsetX/e.target.getBoundingClientRect().width;this.video.currentTime=t*this.duration,this.position=this.video.currentTime}})},m=(i(1455),i(1456),i(5)),g=Object(m.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"wrapper",staticClass:"video-popup__wrapper",on:{click:function(t){return t.target!==t.currentTarget?null:e.hideVideo.apply(null,arguments)}}},[i("div",{ref:"videoPopup",staticClass:"video-popup"},[i("canvas",{ref:"videoCanvas",staticClass:"video-popup__video",attrs:{type:"video/mp4"}}),e.isStopped?i("div",{staticClass:"video-popup__poster"}):e._e(),e.video?i("div",{staticClass:"video-popup__gradient video-popup__controls",class:{"video-popup__controls--shown":e.mouseMove||e.isPaused||e.isStopped},on:{click:e.togglePlayState}},[i("div",{staticClass:"video-popup__bottom-panel"},[i("div",{staticClass:"video-popup__title"},[e._v("\n          How we try hard\n        ")]),i("div",{staticClass:"video-popup__subtitle"},[e._v("\n          Watch the video about SkyCoach\n        ")]),i("div",{staticClass:"video-popup__timeline"},[i("div",{staticClass:"video-popup__timeline-bar",style:{"--position":e.position/e.duration*100+"%"},on:{click:function(t){return t.stopPropagation(),e.seek.apply(null,arguments)}}}),i("span",{staticClass:"video-popup__timeline-text"},[e._v("\n            "+e._s(Math.floor(e.position/60))+":"+e._s(Math.round(e.position%60).toString().padStart(2,"0"))+" /\n            "+e._s(Math.floor(e.duration/60))+":"+e._s(Math.round(e.duration%60).toString().padStart(2,"0"))+"\n          ")])])]),i("div",{staticClass:"video-popup__close",on:{click:function(t){return t.stopPropagation(),e.hideVideo.apply(null,arguments)}}},[i("div",{staticClass:"shape-cross"})]),e.isPaused||e.isStopped?i("video-pulse-play",{staticClass:"video-popup__play"}):e._e()],1):e._e()])])}),[],!1,null,"61e627bb",null),_=g.exports,y=i(1431),w=i(715);function O(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}var S={name:"AppAvailableNotification",components:{GoogleplayButton:i(712).a,AppstoreButton:w.a},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?O(Object(i),!0).forEach((function(t){n()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(s.e)(["userDevice"])),methods:{handleClick:function(){var e,t,i,o;if(!(this.userDevice.innerWidth>767))if("android"===this.userDevice.platformFromUA&&null!==(e=this.$refs["app-google-play-button"])&&void 0!==e&&e.$el)null===(i=this.$refs["app-google-play-button"])||void 0===i||null===(o=i.$el)||void 0===o||o.click();else if("ios"===this.userDevice.platformFromUA&&null!==(t=this.$refs["app-appstore-button"])&&void 0!==t&&t.$el){var n,s;null===(n=this.$refs["app-appstore-button"])||void 0===n||null===(s=n.$el)||void 0===s||s.click()}}}},C=S;i(1462);function P(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function j(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?P(Object(i),!0).forEach((function(t){n()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var A={name:"Showcase",components:{AppAvailableNotification:Object(m.a)(C,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"notification",on:{click:e.handleClick}},[i("img",{staticClass:"notification__logo",attrs:{src:"/images/app_announce/app-icon.svg",alt:"SkyCoach Logo"}}),i("p",{staticClass:"notification__p"},[e._v("\n    SkyCoach App is now available ðŸ¤©\n  ")]),i("div",{staticClass:"notification__buttons"},[i("appstore-button",{ref:"app-appstore-button",staticClass:"notification__app-appstore-button",on:{close:function(t){return e.$emit("close")}}}),i("googleplay-button",{ref:"app-google-play-button",staticClass:"notification__app-google-play-button",on:{close:function(t){return e.$emit("close")}}})],1),i("button",{staticClass:"notification__close",on:{click:function(t){return t.stopPropagation(),e.$emit("close")}}},[i("div",{staticClass:"shape-cross"})])])}),[],!1,null,"06bcaabd",null).exports,ResponsiveImage:r.a,MainSidebar:c.a,MainHeader:l.a,ScrollUp:u.a,CustomerFooter:p.a,PageWrapper:v.a,PromoVideoPopup:_,AltcraftContainer:y.a},props:{showCookieNotification:{type:Boolean,default:!1}},asyncData:function(e){var t=e.store,i=e.router;return new Promise((function(e){t.dispatch("products/getData").then((function(){var o=i.currentRoute;if("game__service"===o.name){var n=o.params,s=n.categories;if(n.namespace===t.state.activeGame.routeNamespace&&s&&"string"==typeof s){var a,r=null===(a=t.state.products.tags)||void 0===a?void 0:a.find((function(e){return e.game_id===t.state.activeGame.id&&e._categories.join("/")===s}));r&&t.commit("products/mutateActiveTag",r.id)}}e()}))}))},data:function(){return{isBurgerActive:!1,isSidebarVisible:!1,isGameMenuOpened:!1,showAppAvailable:!1}},computed:j(j(j(j({},Object(s.e)(["activeGame","user","backgrounds"])),Object(s.c)(["isPlatformApp"])),Object(s.e)("products",["product","tags"])),{},{shouldShowAppAvailable:function(){return"/"===this.$route.path&&this.showAppAvailable&&!!this.user},canSeeSidebar:function(){return!this.$isSSR&&(this.$store.state.userDevice.innerWidth<1280?this.isGameMenuOpened||this.isBurgerActive:this.isSidebarAvailable)},isSidebarAvailable:function(){var e,t,i;return(["game__root","game__service"].includes(this.$route.name)||(null===(e=this.product)||void 0===e?void 0:e.product_currency_setting_id)||(null===(t=this.product)||void 0===t||null===(i=t.meta)||void 0===i?void 0:i.servers))&&!this.is404},isCenteredContent:function(){var e;return null===(e=this.$route.meta)||void 0===e?void 0:e.isCenteredPage}}),watch:{canSeeSidebar:function(e){this.isSidebarVisible=e}},mounted:function(){localStorage.getItem("app-available-closed")||(this.showAppAvailable=!0),this.isSidebarVisible=this.isSidebarAvailable&&window.innerWidth>1280,"open_intercom"in this.$route.query&&a.a.showNewMessage()},created:function(){"undefined"!=typeof window&&(Object.keys(d.a).length||Object(d.c)(this.tags),Object.keys(d.b).length||Object(d.d)())},methods:{closeAppAvailable:function(){localStorage.setItem("app-available-closed","1"),this.showAppAvailable=!1},setGameMenuState:function(e){this.isGameMenuOpened=e,this.setBodyScroll(e)},setBurgerState:function(e){this.isBurgerActive=e,this.setBodyScroll(e)},setBodyScroll:function(e){e?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")}}},k=(i(1463),i(1464),Object(m.a)(A,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"showcase"},[e.$store.state.isVideoShowing?i("promo-video-popup"):e._e(),e._l(e.backgrounds,(function(t){return i("responsive-image",{key:t.default+"-"+(t.media||"default"),staticClass:"background-wrap",class:{"background--gradient":t.shouldShowGradient,"background--small":t.isSmall,"background--with-cookie":e.showCookieNotification},attrs:{"image-data":t}})})),e.shouldShowAppAvailable?i("div",[i("app-available-notification",{on:{close:e.closeAppAvailable}})],1):e._e(),i("main-header",{class:{"root__header--active":e.isGameMenuOpened},attrs:{"is-game-menu-opened":e.isGameMenuOpened,"is-burger-active":e.isBurgerActive,"is-sidebar-visible":e.isSidebarAvailable},on:{hideSidebar:function(t){return e.setBurgerState(!1)},setBurgerState:e.setBurgerState,setGameMenuState:e.setGameMenuState}}),i("div",{ref:"contentWrapper",staticClass:"root__app",class:{"root__app--has-sidebar":e.isSidebarAvailable,"root__app--centered":e.isCenteredContent}},[i("main-sidebar",{staticClass:"root__sidebar",attrs:{"is-showing":e.isSidebarVisible},on:{hideSidebar:function(t){return e.setBurgerState(!1)}}}),i("page-wrapper",{staticClass:"root__view"},[i("router-view",{staticClass:"root__content",class:{"root__content--with-cookie":e.showCookieNotification}})],1)],1),i("customer-footer",{staticClass:"root__footer",attrs:{"is-sidebar-visible":e.isSidebarAvailable}}),i("scroll-up"),e.isPlatformApp?e._e():i("altcraft-container")],2)}),[],!1,null,"5e86da50",null));t.default=k.exports},635:function(e,t,i){},691:function(e,t,i){"use strict";i(635)},702:function(e,t,i){"use strict";var o={name:"VideoPulsePlay"},n=(i(691),i(5)),s=Object(n.a)(o,(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pulse-play__pulse"},[t("div",{staticClass:"pulse-play__play"})])}],!1,null,"79854ef4",null);t.a=s.exports}}]);
//# sourceMappingURL=77.5f8965a3cf7fc694b516.js.map